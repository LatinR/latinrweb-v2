---
title: "Calendar / Calend√°rio"
knitr:
  opts_chunk: 
    echo: false
    message: false
    warning: false
---

```{r}
#| echo: false
source(here::here("R/generar-info-program.R"))
source(here::here("R/generar-info-tutorials.R"))
program <- import_info_program()
tutorials <- generar_info_tutorials() 
charlas <- program$charlas
charlas_prepared <- charlas |> 
  dplyr::transmute(
    title = title,
    tags = tags,
    body = body,
    start = lubridate::as_datetime(glue::glue("{date} {hora}:{minuto}:00")) ,
    end = start + lubridate::minutes(10),
    calendarId = janitor::make_clean_names( paste0(sesion, lugar), allow_dupes = TRUE),
    location = lugar
  )

```

```{r}
#| results: asis
#| warning: false
#| echo: false
#| message: false

start_day <-  lubridate::as_datetime('2023-10-18 09:00:00')  |> 
  lubridate::force_tz("America/Montevideo")

toastui::calendar(
  defaultDate = start_day,
  view = 'day',
  navigation = TRUE,
  useDetailPopup = TRUE,
  isReadOnly = TRUE,
  height = "500px",
  navOpts = toastui::navigation_options(
    today_label = "Hoy",
    class = "bttn-stretch bttn-sm bttn-warning",
    color = "blue",
    fmt_date = format("DD/MM/YYYY"),
    sep_date = "-"
  )
) |>
  toastui::cal_timezone(displayLabel = 'UTC-3',
                        timezoneName = 'America/Montevideo') |>
  toastui::cal_week_options(
    daynames = c("Dom", "Lun", "Mar",
                 "Mier", "Jue", "Vie", "Sab"),
    hourStart = 10,
    hourEnd = 18
  ) |>
  toastui::cal_schedules(tutorials) |>
  toastui::cal_schedules(charlas_prepared) |>
  toastui::cal_props(
    id = 'tutorial',
    name = "TUTORIAL",
    color = "white",
    borderColor = "#B5D4EB",
    backgroundColor = "#4c3ceb"
  ) |> 
    toastui::cal_props(
    id = 'charlassalon_6',
    name = "Charlas",
    color = "white",
    borderColor = "#B5D4EB",
    backgroundColor = "#327ff7"
  ) |> 
    toastui::cal_props(
    id = 'charlassalon_7',
    name = "Charlas",
    color = "white",
    borderColor = "#B5D4EB",
    backgroundColor = "#9f3fff"
  )
```


<!-- font awesome -->

```{=html}
<script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"></script>
```
<!-- font awesome -->